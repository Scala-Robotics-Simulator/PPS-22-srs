"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4955],{2614:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>t,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"implementation/giulia-nardicchia/cli","title":"Command Line Interface","description":"La modalit\xe0 CLI permette di avviare la simulazione senza interfaccia grafica, interagendo esclusivamente tramite la","source":"@site/docs/05-implementation/04-giulia-nardicchia/cli.md","sourceDirName":"05-implementation/04-giulia-nardicchia","slug":"/implementation/giulia-nardicchia/cli","permalink":"/PPS-22-srs/docs/implementation/giulia-nardicchia/cli","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Actuators","permalink":"/PPS-22-srs/docs/implementation/giulia-nardicchia/actuators"},"next":{"title":"DSL per la creazione dell\'ambiente grid-based","permalink":"/PPS-22-srs/docs/implementation/giulia-nardicchia/dsl-environment-grid-based"}}');var l=n(4848),o=n(8453);const s={},t="Command Line Interface",r={},d=[{value:"ArgParser e AppArgs",id:"argparser-e-appargs",level:2},{value:"ConfigurationCLI",id:"configurationcli",level:2},{value:"CLIComponent",id:"clicomponent",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"command-line-interface",children:"Command Line Interface"})}),"\n",(0,l.jsx)(i.p,{children:"La modalit\xe0 CLI permette di avviare la simulazione senza interfaccia grafica, interagendo esclusivamente tramite la\nconsole. Tutti i parametri necessari per l\u2019esecuzione della simulazione possono essere forniti da linea di comando o\ninseriti interattivamente dall\u2019utente."}),"\n",(0,l.jsxs)(i.p,{children:["In fase di avvio, il launcher selezionato determina le componenti della simulazione in base alla modalit\xe0 scelta.\nUtilizzando il flag ",(0,l.jsx)(i.code,{children:"--headless"}),", il launcher seleziona i componenti appropriati: in modalit\xe0 CLI vengono utilizzati\n",(0,l.jsx)(i.code,{children:"ConfigurationCLI"}),", per la lettura dei parametri iniziali e la validazione dei parametri di configurazione, e\n",(0,l.jsx)(i.code,{children:"CLIComponent"}),", che gestisce la vista testuale della simulazione.\nQuesta distinzione mantiene invariata la logica della simulazione rispetto alla modalit\xe0 GUI, differenziando solo i\nmeccanismi di input/output e di rendering dello stato."]}),"\n",(0,l.jsx)(i.h2,{id:"argparser-e-appargs",children:"ArgParser e AppArgs"}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.code,{children:"ArgParser"})," gestisce l\u2019analisi degli argomenti passati da linea di comando all'avvio dell\u2019applicazione.\nViene utilizzata la libreria ",(0,l.jsx)(i.a,{href:"https://github.com/scopt/scopt",children:(0,l.jsx)(i.strong,{children:"scopt"})})," per definire le opzioni disponibili."]}),"\n",(0,l.jsx)(i.p,{children:"Scopt fornisce un DSL dichiarativo che permette di definire con semplicit\xe0:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"opzioni obbligatorie o facoltative, con relativi tipi;"}),"\n",(0,l.jsx)(i.li,{children:"valori di default;"}),"\n",(0,l.jsx)(i.li,{children:"messaggi di aiuto e documentazione;"}),"\n",(0,l.jsx)(i.li,{children:"versioning e validazione degli argomenti."}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"In questa applicazione, le principali opzioni supportate sono:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"--headless"}),": avvia la simulazione in modalit\xe0 CLI senza interfaccia grafica;"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"--path <file>"}),": specifica il percorso del file di configurazione ",(0,l.jsx)(i.em,{children:"YAML"}),";"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"--duration <milliseconds>"}),": imposta la durata totale della simulazione;"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"--seed <number>"}),": definisce il seme casuale per garantire riproducibilit\xe0;"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"--help"}),": mostra le istruzioni disponibili."]}),"\n"]}),"\n",(0,l.jsxs)(i.p,{children:["Il risultato del parsing \xe8 la struttura ",(0,l.jsx)(i.code,{children:"AppArgs"})," che raccoglie in modo tipizzato tutti i parametri forniti dall\u2019utente.\nSe la lettura degli argomenti fallisce, il metodo ",(0,l.jsx)(i.code,{children:"parse(args: Seq[String])"})," restituisce ",(0,l.jsx)(i.code,{children:"None"}),", stampando un messaggio\ndi errore."]}),"\n",(0,l.jsxs)(i.admonition,{title:"Esempio di avvio",type:"tip",children:[(0,l.jsx)(i.p,{children:"Esempio di avvio del simulatore in modalit\xe0 CLI con parametri specifici:"}),(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"  java -jar PPS-22-srs.jar --headless --path config.yaml --duration 60000 --seed 42\n"})})]}),"\n",(0,l.jsx)(i.h2,{id:"configurationcli",children:"ConfigurationCLI"}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.code,{children:"ConfigurationCLI"})," implementa ",(0,l.jsx)(i.code,{children:"ConfigurationView"})," per la modalit\xe0 CLI.\nIl suo compito principale \xe8 leggere e validare la configurazione iniziale della simulazione, fornendo un oggetto\n",(0,l.jsx)(i.code,{children:"SimulationConfig[ValidEnvironment]"})," pronto per il modello."]}),"\n",(0,l.jsxs)(i.p,{children:["I valori mancanti, come durata della simulazione o il seed, vengono richiesti interattivamente all\u2019utente tramite\nconsole (tramite le funzioni ",(0,l.jsx)(i.code,{children:"askSimulationTime"})," e ",(0,l.jsx)(i.code,{children:"askSeed"}),")."]}),"\n",(0,l.jsxs)(i.p,{children:["La lettura del file ",(0,l.jsx)(i.em,{children:"YAML"})," di configurazione \xe8 affidata a ",(0,l.jsx)(i.code,{children:"YamlConfigManager"}),", con gestione degli errori per file\ninesistenti o non validi."]}),"\n",(0,l.jsx)(i.p,{children:"Anche la validazione dell\u2019ambiente avviene prima dell\u2019avvio della simulazione, generando un\u2019eccezione in caso di errori."}),"\n",(0,l.jsx)(i.admonition,{type:"info",children:(0,l.jsxs)(i.p,{children:["Per ulteriori informazioni sulla gestione della configurazione si rimanda alla sezione ",(0,l.jsx)(i.a,{href:"/PPS-22-srs/docs/implementation/simone-ceredi/configuration",children:"Configuration"}),"."]})}),"\n",(0,l.jsx)(i.h2,{id:"clicomponent",children:"CLIComponent"}),"\n",(0,l.jsxs)(i.p,{children:["Il ",(0,l.jsx)(i.em,{children:"trait"})," ",(0,l.jsx)(i.code,{children:"CLIComponent[S]"})," estende ",(0,l.jsx)(i.code,{children:"ViewModule.Component[S]"})," e costituisce la vista testuale della simulazione\nnell\u2019architettura MVC. \xc8 definito in modo generico rispetto al tipo di stato ",(0,l.jsx)(i.code,{children:"S"}),", che deve estendere ",(0,l.jsx)(i.code,{children:"ModelModule.State"}),",\ncos\xec da poter essere riutilizzato con diversi modelli di simulazione."]}),"\n",(0,l.jsxs)(i.p,{children:["L\u2019implementazione concreta della view \xe8 affidata alla classe interna ",(0,l.jsx)(i.code,{children:"CLIViewImpl"}),", che definisce i principali metodi\ndell\u2019interfaccia ",(0,l.jsx)(i.code,{children:"View"}),":"]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"init(queue: Queue[IO, Event])"}),": stampa un messaggio di benvenuto;"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"render(state: S)"}),": richiamato a ogni aggiornamento dello stato, ma lasciato volutamente vuoto per evitare output\ncontinuo in console;"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"close()"}),": stampa un messaggio di chiusura al termine della simulazione;"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"timeElapsed(state: S)"}),": mostra il risultato finale stampando lo stato della simulazione e l\u2019ambiente in formato tabellare, tramite ",(0,l.jsx)(i.code,{children:"prettyPrint"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(i.p,{children:["In questo modo, ",(0,l.jsx)(i.code,{children:"CLIComponent"})," fornisce un\u2019interfaccia minimale ma sufficiente per monitorare la simulazione,\nconcentrandosi sui messaggi chiave e sull\u2019output finale, senza appesantire l\u2019esecuzione con rendering continui."]}),"\n",(0,l.jsxs)(i.admonition,{title:"Esempio di ambiente testuale",type:"tip",children:[(0,l.jsx)(i.p,{children:"La simulazione mostra le entit\xe0 presenti in una griglia testuale."}),(0,l.jsx)(i.p,{children:"Ogni simbolo rappresenta un tipo di entit\xe0:"}),(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:["robot, sulla base della ",(0,l.jsx)(i.code,{children:"Policy"})," associata: ",(0,l.jsx)(i.code,{children:"R"})," (RandomWalk), ",(0,l.jsx)(i.code,{children:"A"})," (AlwaysForward), ",(0,l.jsx)(i.code,{children:"O"})," (ObstacleAvoidance), ",(0,l.jsx)(i.code,{children:"P"})," (PhotoTaxis), ",(0,l.jsx)(i.code,{children:"M"})," (Prioritized);"]}),"\n",(0,l.jsxs)(i.li,{children:["ostacolo: ",(0,l.jsx)(i.code,{children:"X"}),";"]}),"\n",(0,l.jsxs)(i.li,{children:["luce: ",(0,l.jsx)(i.code,{children:"**"}),";"]}),"\n",(0,l.jsxs)(i.li,{children:["cella vuota: ",(0,l.jsx)(i.code,{children:"--"}),"."]}),"\n"]}),(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-text",children:"-- | -- | -- | -- | -- | -- | -- | X  | -- | -- ||\n-- | -- | -- | -- | -- | -- | -- | X  | -- | -- ||\n-- | A  | ** | -- | -- | -- | -- | X  | -- | -- ||\n-- | -- | -- | -- | -- | -- | -- | X  | -- | -- ||\n-- | -- | -- | X  | X  | X  | -- | X  | -- | -- ||\n-- | -- | -- | A  | -- | -- | -- | X  | -- | -- ||\n-- | -- | -- | -- | -- | -- | -- | X  | -- | -- ||\n-- | -- | -- | -- | -- | -- | -- | -- | -- | -- ||\n-- | -- | -- | -- | -- | -- | -- | -- | ** | -- ||\n-- | -- | -- | -- | -- | -- | -- | -- | -- | --\n"})})]}),"\n",(0,l.jsx)(i.admonition,{type:"info",children:(0,l.jsxs)(i.p,{children:["Per ulteriori dettagli sull'implementazione del DSL per la creazione di ambienti grid-based, si rimanda alla sezione\ndedicata nella documentazione ",(0,l.jsx)(i.a,{href:"/PPS-22-srs/docs/implementation/giulia-nardicchia/dsl-environment-grid-based",children:"DSL ambiente grid-based"}),"."]})})]})}function m(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>t});var a=n(6540);const l={},o=a.createContext(l);function s(e){const i=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),a.createElement(o.Provider,{value:i},e.children)}}}]);